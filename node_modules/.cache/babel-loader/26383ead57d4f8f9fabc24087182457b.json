{"ast":null,"code":"//api\n// let apiKey = '5de7c12586e7ea8e8536387ce01bec46'\n// let city = 'Moscow'\n// let url = `https://api.openweathermap.org/data/2.5/onecall?q=${city}&lang=ru&units=metric&appid=${apiKey}`\nlet wind = 1000;\nlet temp = 100;\nlet apiKey = '5de7c12586e7ea8e8536387ce01bec46';\nlet lat = '55.751244';\nlet long = '37.618423';\nlet url = `https://api.openweathermap.org/data/2.5/onecall?lat=${lat}&lon=${long}&exclude=daily&appid=${apiKey}`;\nlet urlCity = `http://api.openweathermap.org/geo/1.0/direct?q=London&limit=5&appid=${apiKey}`;\nimport p5 from 'p5';\n\nfunction getRandomArbitrary(min, max) {\n  return Math.random() * (max - min) + min;\n}\n\ndocument.addEventListener('DOMContentLoaded', () => {\n  const container = document.getElementsByClassName('prototype_13')[0];\n  const cityInput = document.createElement('input');\n  const cityButton = document.createElement('button');\n  container.appendChild(cityInput);\n  container.appendChild(cityButton);\n  cityButton.addEventListener('submit', e => {\n    e.preventDefault();\n    const cityInput = cityInput.value;\n  });\n  fetch(urlCity).then(response => {\n    return response.json();\n  }).then(data => {\n    console.log(data);\n\n    for (var i = 0; i < 1; i++) {\n      //wind = data.0[i].lat\n      console.log(data.lat);\n    }\n  });\n  fetch(url).then(response => {\n    return response.json();\n  }).then(data => {\n    temp = data.current.temp;\n\n    for (var i = 0; i < 48; i++) {\n      wind = data.hourly[i].wind_speed;\n      console.log(wind);\n    } // for (var i = 0; i < 48; i++) {\n    //   temp = data.current[i].temp\n    //   console.log(temp)\n    // }\n\n  });\n  const frame = document.createElement('div');\n  frame.classList.add('frame');\n  frame.id = 'frame';\n  container.appendChild(frame); //sketch\n\n  let sketch = p => {\n    var angle,\n        gen = 333;\n\n    p.setup = () => {\n      let canvas = p.createCanvas(800, 800);\n      canvas.parent('frame');\n      p.stroke(200, 0, 255, 80); //p.fill(127, 2, 55, 60)\n\n      p.fill(0, 0, 255, 80);\n      p.input = p.createInput();\n      p.input.position(20, 30); // inputVal = p.createInput()\n      // p.inputWeather.position(20, 80)\n      // p.button = p.createButton('submit')\n      // p.button.position(160, 80)\n    };\n\n    p.draw = () => {\n      p.background(255);\n      angle = Math.sin(gen * 30) * 30 * wind;\n      p.push();\n      p.translate(400, 400);\n      p.rotate(gen * 4); //here I cam manage amount of curves\n\n      for (var i = 0; i < 100; i++) {\n        p.rotate(3 * gen / 33);\n        p.stroke(25, 34, 125);\n        p.strokeWeight(1); //here i can manage sizes of curves\n\n        p.bezier(i, i, 0, Math.cos(angle - i), 300, angle + i, i + 300, i);\n      }\n\n      p.pop();\n      p.push();\n      p.translate(400, 400);\n      p.rotate(gen * 4);\n\n      for (var i = 0; i < 100; i++) {\n        p.rotate(3 * gen / 33);\n        p.stroke(0, 0, 0, 90);\n        p.fill(255, 255, 255, 20); //  p.fill(255, wind - 95, wind - 255, 20)\n\n        p.strokeWeight(0.1);\n        p.bezier(i, -i, 0, angle - i, 400, angle - i, i - 400, i);\n      }\n\n      p.pop();\n      gen += 0.0009;\n      p.push();\n      p.translate(400, 400);\n      p.rotate(gen * 8.95);\n      drawName();\n      p.pop();\n    };\n\n    function drawName() {\n      for (var i = 0; i < 9; i++) {\n        p.rotate(2 * gen / 1000);\n        p.textSize(64);\n        p.textFont('Georgia');\n        var name = p.input.value();\n        p.fill(0, 0, 0);\n        p.text(name, 32, 50);\n      }\n    }\n  };\n\n  let myp5 = new p5(sketch);\n});","map":{"version":3,"sources":["/Users/olesyashevchenko/Documents/github/art/app/javascript/packs/prototype_13.js"],"names":["wind","temp","apiKey","lat","long","url","urlCity","p5","getRandomArbitrary","min","max","Math","random","document","addEventListener","container","getElementsByClassName","cityInput","createElement","cityButton","appendChild","e","preventDefault","value","fetch","then","response","json","data","console","log","i","current","hourly","wind_speed","frame","classList","add","id","sketch","p","angle","gen","setup","canvas","createCanvas","parent","stroke","fill","input","createInput","position","draw","background","sin","push","translate","rotate","strokeWeight","bezier","cos","pop","drawName","textSize","textFont","name","text","myp5"],"mappings":"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","sourcesContent":["//api\n// let apiKey = '5de7c12586e7ea8e8536387ce01bec46'\n// let city = 'Moscow'\n// let url = `https://api.openweathermap.org/data/2.5/onecall?q=${city}&lang=ru&units=metric&appid=${apiKey}`\nlet wind = 1000\nlet temp = 100\n\nlet apiKey = '5de7c12586e7ea8e8536387ce01bec46'\nlet lat = '55.751244'\nlet long = '37.618423'\nlet url = `https://api.openweathermap.org/data/2.5/onecall?lat=${lat}&lon=${long}&exclude=daily&appid=${apiKey}`\nlet urlCity = `http://api.openweathermap.org/geo/1.0/direct?q=London&limit=5&appid=${apiKey}`\n\nimport p5 from 'p5'\n\nfunction getRandomArbitrary(min, max) {\n  return Math.random() * (max - min) + min\n}\n\ndocument.addEventListener('DOMContentLoaded', () => {\n  const container = document.getElementsByClassName('prototype_13')[0]\n  const cityInput = document.createElement('input')\n  const cityButton = document.createElement('button')\n  container.appendChild(cityInput)\n  container.appendChild(cityButton)\n\n  cityButton.addEventListener('submit', (e) => {\n    e.preventDefault()\n    const cityInput = cityInput.value\n  })\n\n  fetch(urlCity)\n    .then((response) => {\n      return response.json()\n    })\n    .then((data) => {\n      console.log(data)\n      for (var i = 0; i < 1; i++) {\n        //wind = data.0[i].lat\n        console.log(data.lat)\n      }\n    })\n\n  fetch(url)\n    .then((response) => {\n      return response.json()\n    })\n    .then((data) => {\n      temp = data.current.temp\n      for (var i = 0; i < 48; i++) {\n        wind = data.hourly[i].wind_speed\n        console.log(wind)\n      }\n      // for (var i = 0; i < 48; i++) {\n      //   temp = data.current[i].temp\n      //   console.log(temp)\n      // }\n    })\n\n  const frame = document.createElement('div')\n  frame.classList.add('frame')\n  frame.id = 'frame'\n  container.appendChild(frame)\n\n  //sketch\n  let sketch = (p) => {\n    var angle,\n      gen = 333\n\n    p.setup = () => {\n      let canvas = p.createCanvas(800, 800)\n      canvas.parent('frame')\n      p.stroke(200, 0, 255, 80)\n      //p.fill(127, 2, 55, 60)\n      p.fill(0, 0, 255, 80)\n\n      p.input = p.createInput()\n      p.input.position(20, 30)\n\n      // inputVal = p.createInput()\n      // p.inputWeather.position(20, 80)\n      // p.button = p.createButton('submit')\n      // p.button.position(160, 80)\n    }\n\n    p.draw = () => {\n      p.background(255)\n      angle = Math.sin(gen * 30) * 30 * wind\n\n      p.push()\n      p.translate(400, 400)\n      p.rotate(gen * 4)\n      //here I cam manage amount of curves\n      for (var i = 0; i < 100; i++) {\n        p.rotate((3 * gen) / 33)\n        p.stroke(25, 34, 125)\n        p.strokeWeight(1)\n        //here i can manage sizes of curves\n        p.bezier(i, i, 0, Math.cos(angle - i), 300, angle + i, i + 300, i)\n      }\n      p.pop()\n\n      p.push()\n      p.translate(400, 400)\n      p.rotate(gen * 4)\n      for (var i = 0; i < 100; i++) {\n        p.rotate((3 * gen) / 33)\n        p.stroke(0, 0, 0, 90)\n        p.fill(255, 255, 255, 20)\n        //  p.fill(255, wind - 95, wind - 255, 20)\n        p.strokeWeight(0.1)\n        p.bezier(i, -i, 0, angle - i, 400, angle - i, i - 400, i)\n      }\n      p.pop()\n\n      gen += 0.0009\n\n      p.push()\n      p.translate(400, 400)\n      p.rotate(gen * 8.95)\n      drawName()\n      p.pop()\n    }\n\n    function drawName() {\n      for (var i = 0; i < 9; i++) {\n        p.rotate((2 * gen) / 1000)\n        p.textSize(64)\n        p.textFont('Georgia')\n        var name = p.input.value()\n        p.fill(0, 0, 0)\n        p.text(name, 32, 50)\n      }\n    }\n  }\n\n  let myp5 = new p5(sketch)\n})\n"]},"metadata":{},"sourceType":"module"}