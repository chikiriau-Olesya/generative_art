{"ast":null,"code":"let wind = 1000;\nlet temp = 100;\nlet sketchData = {\n  accelerometer: {\n    x: 0,\n    y: 0,\n    z: 0\n  },\n  gyroscope: {\n    x: 0,\n    y: 0,\n    z: 0\n  },\n  temperature: 0\n};\n\nwsConnection.onmessage = function message(event) {\n  console.log('received: %s', event.data);\n  console.log(JSON.parse(event.data)); //radius = parseInt(event.data)\n\n  sketchData = JSON.parse(event.data); //console.log(sketchData)\n};\n\nlet apiKey = '5de7c12586e7ea8e8536387ce01bec46';\nlet lat = '55.751244';\nlet long = '37.618423';\nlet url = `https://api.openweathermap.org/data/2.5/onecall?lat=${lat}&lon=${long}&exclude=daily&appid=${apiKey}`;\nfetch(url).then(response => {\n  return response.json();\n}).then(data => {\n  console.log(data.current.temp);\n  temp = data.current.temp;\n\n  for (var i = 0; i < 48; i++) {\n    wind = data.hourly[i].wind_speed;\n    console.log(wind);\n  }\n});\nimport p5 from 'p5';\n\nfunction getRandomArbitrary(min, max) {\n  return Math.random() * (max - min) + min;\n}\n\ndocument.addEventListener('DOMContentLoaded', () => {\n  const container = document.getElementsByClassName('prototype_11')[0];\n  const frame = document.createElement('div');\n  frame.classList.add('frame');\n  frame.id = 'frame';\n  container.appendChild(frame); //sketch\n\n  let sketch = p => {\n    var angle,\n        gen = 333;\n\n    p.setup = () => {\n      let canvas = p.createCanvas(800, 800);\n      canvas.parent('frame'); // p.stroke(200, 0, 255, 80)\n      // //p.fill(127, 2, 55, 60)\n      // p.fill(0, 0, 255, 60)\n\n      p.input = p.createInput();\n      p.input.position(20, 30);\n    };\n\n    p.draw = () => {\n      p.background(0);\n      angle = Math.sin(gen * 30) * 30 * wind;\n      p.push();\n      p.translate(400, 400);\n      p.rotate(gen * 4);\n\n      for (var i = 0; i < Math.floor(temp / 3); i++) {\n        p.rotate(3 * gen / 33); //p.stroke(25, temp - 134, 125)\n\n        p.stroke(wind * 20, 0, wind + 134, 80);\n        p.fill(0, wind * 12, 255, 70); //p.fill(255, 18, 89, 80)\n\n        p.strokeWeight(1);\n        p.bezier(i, i, 0, Math.cos(angle - i), 300, angle + i, i + 300, i);\n      }\n\n      p.pop();\n      p.push();\n      p.translate(400, 400);\n      p.rotate(gen * 4);\n\n      for (var i = 0; i < 100; i++) {\n        p.rotate(3 * gen / 33);\n        p.stroke(0, 0, 0, 90);\n        p.fill(255, 255, 255, 10);\n        p.strokeWeight(0.1);\n        p.bezier(i, -i, 0, angle - i, 400, angle - i, i - 400, i);\n      }\n\n      p.pop(); // p.push()\n      // p.translate(400, 400)\n      // p.rotate(gen * 8.95)\n      // for (var i = 0; i < 9; i++) {\n      //   p.rotate((2 * gen) / 1000)\n      //   p.textSize(64)\n      //   p.textFont('Georgia')\n      //   p.fill(0, 0, 0)\n      //   p.noStroke()\n      //   //последними цыфрами управляй расстрянием вжуха\n      //   p.text('kindness', 32, 50)\n      // }\n      // p.pop()\n      //\n\n      gen += 0.0009;\n      p.push();\n      p.translate(400, 400);\n      p.rotate(gen * 8.96);\n      drawName();\n      p.pop();\n    };\n\n    function drawName() {\n      for (var i = 0; i < 9; i++) {\n        p.rotate(2 * gen / 990);\n        p.textSize(64);\n        p.textFont('Georgia');\n        var name = p.input.value();\n        p.fill(0, 0, 0);\n        p.text(name, 32, 50);\n      }\n    }\n  };\n\n  let myp5 = new p5(sketch);\n});","map":{"version":3,"sources":["/Users/olesyashevchenko/Documents/github/art/app/javascript/packs/prototype_11.js"],"names":["wind","temp","sketchData","accelerometer","x","y","z","gyroscope","temperature","wsConnection","onmessage","message","event","console","log","data","JSON","parse","apiKey","lat","long","url","fetch","then","response","json","current","i","hourly","wind_speed","p5","getRandomArbitrary","min","max","Math","random","document","addEventListener","container","getElementsByClassName","frame","createElement","classList","add","id","appendChild","sketch","p","angle","gen","setup","canvas","createCanvas","parent","input","createInput","position","draw","background","sin","push","translate","rotate","floor","stroke","fill","strokeWeight","bezier","cos","pop","drawName","textSize","textFont","name","value","text","myp5"],"mappings":"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","sourcesContent":["let wind = 1000\nlet temp = 100\n\nlet sketchData = {\n  accelerometer: {\n    x: 0,\n    y: 0,\n    z: 0\n  },\n  gyroscope: {\n    x: 0,\n    y: 0,\n    z: 0\n  },\n  temperature: 0\n}\n\nwsConnection.onmessage = function message(event) {\n  console.log('received: %s', event.data)\n  console.log(JSON.parse(event.data))\n  //radius = parseInt(event.data)\n  sketchData = JSON.parse(event.data)\n  //console.log(sketchData)\n}\n\nlet apiKey = '5de7c12586e7ea8e8536387ce01bec46'\nlet lat = '55.751244'\nlet long = '37.618423'\nlet url = `https://api.openweathermap.org/data/2.5/onecall?lat=${lat}&lon=${long}&exclude=daily&appid=${apiKey}`\n\nfetch(url)\n  .then((response) => {\n    return response.json()\n  })\n  .then((data) => {\n    console.log(data.current.temp)\n    temp = data.current.temp\n    for (var i = 0; i < 48; i++) {\n      wind = data.hourly[i].wind_speed\n      console.log(wind)\n    }\n  })\n\nimport p5 from 'p5'\n\nfunction getRandomArbitrary(min, max) {\n  return Math.random() * (max - min) + min\n}\n\ndocument.addEventListener('DOMContentLoaded', () => {\n  const container = document.getElementsByClassName('prototype_11')[0]\n  const frame = document.createElement('div')\n  frame.classList.add('frame')\n  frame.id = 'frame'\n  container.appendChild(frame)\n\n  //sketch\n  let sketch = (p) => {\n    var angle,\n      gen = 333\n\n    p.setup = () => {\n      let canvas = p.createCanvas(800, 800)\n      canvas.parent('frame')\n      // p.stroke(200, 0, 255, 80)\n      // //p.fill(127, 2, 55, 60)\n      // p.fill(0, 0, 255, 60)\n\n      p.input = p.createInput()\n      p.input.position(20, 30)\n    }\n\n    p.draw = () => {\n      p.background(0)\n      angle = Math.sin(gen * 30) * 30 * wind\n\n      p.push()\n      p.translate(400, 400)\n      p.rotate(gen * 4)\n      for (var i = 0; i < Math.floor(temp / 3); i++) {\n        p.rotate((3 * gen) / 33)\n        //p.stroke(25, temp - 134, 125)\n        p.stroke(wind * 20, 0, wind + 134, 80)\n        p.fill(0, wind * 12, 255, 70)\n        //p.fill(255, 18, 89, 80)\n        p.strokeWeight(1)\n        p.bezier(i, i, 0, Math.cos(angle - i), 300, angle + i, i + 300, i)\n      }\n      p.pop()\n\n      p.push()\n      p.translate(400, 400)\n      p.rotate(gen * 4)\n      for (var i = 0; i < 100; i++) {\n        p.rotate((3 * gen) / 33)\n        p.stroke(0, 0, 0, 90)\n        p.fill(255, 255, 255, 10)\n        p.strokeWeight(0.1)\n        p.bezier(i, -i, 0, angle - i, 400, angle - i, i - 400, i)\n      }\n      p.pop()\n\n      // p.push()\n      // p.translate(400, 400)\n      // p.rotate(gen * 8.95)\n      // for (var i = 0; i < 9; i++) {\n      //   p.rotate((2 * gen) / 1000)\n      //   p.textSize(64)\n      //   p.textFont('Georgia')\n      //   p.fill(0, 0, 0)\n      //   p.noStroke()\n      //   //последними цыфрами управляй расстрянием вжуха\n      //   p.text('kindness', 32, 50)\n      // }\n      // p.pop()\n      //\n      gen += 0.0009\n\n      p.push()\n      p.translate(400, 400)\n      p.rotate(gen * 8.96)\n      drawName()\n      p.pop()\n    }\n\n    function drawName() {\n      for (var i = 0; i < 9; i++) {\n        p.rotate((2 * gen) / 990)\n        p.textSize(64)\n        p.textFont('Georgia')\n        var name = p.input.value()\n        p.fill(0, 0, 0)\n        p.text(name, 32, 50)\n      }\n    }\n  }\n\n  let myp5 = new p5(sketch)\n})\n"]},"metadata":{},"sourceType":"module"}